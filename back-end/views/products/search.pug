extends ../layout/common.pug
   
block content

    h1
        span.mr-3 Products
        
    .d-flex.align-items-center    
        form.ml-auto(action="/products/search" method="GET"  class="d-flex")
            input(type="text", name="q" class="form-control" value=keyword)
            button(class="btn btn-primary ml-2") Search
    .row
        each product in products  
            .col-sm-3    
                img.card-img-top(src=product.image, alt='asd')
                .card-body
                    h5.card-title= product.name
                    p.card-text= product.description
                    a.btn.btn-primary(href='/cart/add/'+product.id) Add to cart

    nav(aria-label='Page navigation example' style="width: 19%; margin: auto;")
        ul.pagination
            each num in numPages
                if num.previous
                    li.page-item
                        a.page-link(href='search?q='+ keyword + '&page=' + num.previous, aria-label='Previous')
                            span(aria-hidden='true') &laquo;
                if num.previous2
                    li.page-item
                        a.page-link(href='search?q='+ keyword + '&page=' + num.previous2)= num.previous2
                if num.previous
                    li.page-item
                        a.page-link(href='search?q='+ keyword + '&page=' + num.previous)= num.previous
                if num.now
                    li.page-item
                        p(style="background: #007bff; color: red;").page-link= num.now
                if num.next
                    li.page-item
                        a.page-link(href='search?q='+ keyword + '&page=' + num.next)= num.next
                if num.next2
                    li.page-item
                        a.page-link(href='search?q='+ keyword + '&page=' + num.next2)= num.next2                
                if num.next
                    li.page-item
                        a.page-link(href='search?q='+ keyword + '&page=' + num.next, aria-label='Next')
                            span(aria-hidden='true') &raquo;


